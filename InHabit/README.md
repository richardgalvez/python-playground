# ğŸ§© InHabit

*Started: 5/1/2025 â€” Completed: TBD*

*Generated by Code Copilot (ChatGPT)*

**Difficulty:** Medium+

**Tags:** FastAPI, REST API, SQLite, Data Persistence, Pydantic, JSON Responses, Backend Development

You are tasked with building a **backend API** for a habit tracking system. Users will be able to **create habits**, **log their completion**, and **track progress over time**, including a streak counter for consecutive days.

This will give you experience working with **FastAPI**, **relational data modeling**, and **RESTful route design** â€” essential for any real-world, API-driven app or service.

## ğŸŒ Tech Stack

- **FastAPI** (API framework for backend routing and JSON response handling)

- **SQLite** (local database persistence)

- **SQLModel** or `sqlite3` (for ORM-style or direct DB interaction)

- **Pydantic** (request/response models)

- Testable via **Swagger UI** at /docs

## ğŸ“ Functional Requirements

Implement the following **REST API routes**:

```txt
POST   /habits                     â†’ Create a new habit  
GET    /habits                     â†’ List all habits  
GET    /habits/{habit_id}         â†’ Get details for a single habit  
POST   /habits/{habit_id}/log     â†’ Log today's completion for a habit  
GET    /habits/{habit_id}/streak  â†’ Get the current completion streak  
```

## ğŸ“š Habit Data

Each habit should store:

- `id`: auto-generated (integer primary key)

- `name`: str (required)

- `description`: str (optional)

- `created_at`: datetime (auto-set on creation)

- `log_dates`: a list of completion dates (as ISO format strings or separate rows if using a relational table)

## ğŸ¯ Core Logic

- When a user **logs** a habit, the current date is added to its completion list

- Prevent logging the same habit **more than once per day**

- When querying `/streak`, calculate how many **consecutive days (up to today)** the habit has been completed

- Return **structured JSON** in all responses

- Use FastAPIâ€™s **status codes** and built-in validation (e.g. 422 on invalid input)

## âœ… Input Validation & API Rules

- `name` must be present when creating a habit

- Logging is only allowed **once per habit per day**

- Habit `id` must be valid in all requests

- When logging or streak-checking a habit that doesnâ€™t exist, return **404 Not Found**

## ğŸ§ª Example JSON Interactions

**POST /habits**

```json
{
  "name": "Meditate",
  "description": "10 minutes of mindfulness"
}
```

**GET /habits**

```json
[
  {
    "id": 1,
    "name": "Meditate",
    "description": "10 minutes of mindfulness",
    "created_at": "2025-05-01T10:00:00",
    "log_dates": ["2025-05-01", "2025-05-02"]
  }
]
```

**POST /habits/1/log**

```json
{
  "message": "Habit logged for today"
}
```

**GET /habits/1/streak**

```json
{
  "habit_id": 1,
  "current_streak": 2
}
```

## ğŸ’¡ Sample Flow

```bash
1. Create Habit (POST /habits)
2. Log daily completion (POST /habits/{id}/log)
3. Track streak (GET /habits/{id}/streak)
4. List all habits (GET /habits)
```

## ğŸ’» This Project Helps You Practice:

- Designing a clean REST API

- FastAPI routing and status handling

- SQLite + Python data modeling

- Querying and modifying relational data

- Streak logic and date math (via `datetime`)

- API schema validation using Pydantic

- Testing APIs using Swagger UI or Postman

