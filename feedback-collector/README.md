# 🧩 Feedback Collector - Design & Implement

*Started 4/19/2025 - Completed 4/21/2025*

*Generated by Code Copilot (ChatGPT)*

**Difficulty:** Medium+

**Tags:** Form Handling, Aggregation, Validation, Data Modeling, Web App Prep

You are tasked with building a feedback collection system that accepts feedback from users and stores it persistently. Each entry includes basic user info, a rating, and optional comments. The system must also provide aggregate insights such as average rating, number of submissions, and breakdown by rating — useful for dashboards or reporting in real web apps.

Implement the class FeedbackCollector with the following methods:

```python
def submit_feedback(self, user: str, rating: int, comments: str = "") -> None:
    """
    Submits feedback with a username, 1–5 star rating, and optional comments.
    """

def get_feedback_summary(self) -> dict:
    """
    Returns summary data:
    - total submissions
    - average rating
    - count per rating level (1–5)
    """

def list_feedback(self, min_rating: int = 1) -> list[dict]:
    """
    Returns all feedback entries with rating >= min_rating.
    """
```
## 📝 Requirements

1. Each feedback entry must include:

    - user (non-empty string)

    - rating (integer from 1 to 5)

    - comments (optional string)

    - timestamp (auto-generated on submission)

2. All feedback must be stored in a local JSON file (feedback.json).

3. Raise ValueError if:

    - user is empty

    - rating is not between 1 and 5

    - min_rating is invalid in list_feedback

    - Raise IOError if the file is corrupted or cannot be loaded.

    - On first run, initialize the feedback file if it doesn't exist.

## 💡 Examples

```python
fc = FeedbackCollector()

fc.submit_feedback("alice", 5, "Loved the service!")
fc.submit_feedback("bob", 3)

fc.get_feedback_summary()
# Returns:
# {
#   "total": 2,
#   "average_rating": 4.0,
#   "ratings_breakdown": { "5": 1, "4": 0, "3": 1, "2": 0, "1": 0 }
# }

fc.list_feedback(4)
# Returns only entries with rating 4 or 5
``` 

#### 🎯 This prepares you for:

    🧾 Handling form-like user inputs

    📊 Live dashboard-style aggregate data

    🧠 Thinking in data summaries & filters (common in admin panels)

    🧰 Backend API endpoint design patterns (like /submit, /summary, /feedback?min_rating=3)

